if (self.CavalryLogger) { CavalryLogger.start_js(["eeN\/f"]); }

__d("TimelineAppCollectionAddObjectActions",[],(function a(b,c,d,e,f,g){f.exports={ADD:"add",HIDE:"hide",MOVE:"move",REMOVE:"remove",UNARCHIVE:"unarchive",UNDO_HIDE:"undo hide",UNDO_MOVE:"undo move",HIGHLIGHT:"highlight"};}),null);
__d('DynamicAdsCardLevelXOutControllerCardXOutRegister',['cx','Arbiter','CSS','DOM'],(function a(b,c,d,e,f,g,h){'use strict';var i={initListener:function j(k,l,m){c('Arbiter').subscribe('product-level-xout',function(n,o){var p=k+'_'+l;if(o.xOutCardIndex===p){c('CSS').addClass(m,"_k17");setTimeout(function(){c('DOM').remove(m);},2000);}});}};f.exports=i;}),null);
__d('CarouselDynamicSlideshowController',['Arbiter'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$CarouselDynamicSlideshowController1=i.slideshow_ids;this.$CarouselDynamicSlideshowController2=i.carousel;}h.prototype.slide=function(){'use strict';var i=this.$CarouselDynamicSlideshowController2.getVisibleIndex();this.$CarouselDynamicSlideshowController1.forEach(function(j,k){if(!j)return;if(k===i){c('Arbiter').inform('fbPhotosSlideshow/forceEnable',{parentID:j});}else c('Arbiter').inform('fbPhotosSlideshow/forceDisable',{parentID:j});});};f.exports=h;}),null);
__d('CarouselVideoPlayerController',['VideoAutoplayControllerX','VideoAutoplayPlayerBase','VideoPlayerLoggerEvent','VideoPlayerReason','getElementPosition','getViewportDimensions','tidyEvent'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('VideoAutoplayPlayerBase'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);this.$CarouselVideoPlayerController1=k.video_units;this.$CarouselVideoPlayerController2=k.carousel;this.$CarouselVideoPlayerController3=k.should_autoplay;this.$CarouselVideoPlayerController5=k.root;this.$CarouselVideoPlayerController4=this.$CarouselVideoPlayerController2.getVisibleIndex();this.$CarouselVideoPlayerController1.forEach(function(l,m){if(l)c('tidyEvent')(l.addListener('turnOffAutoplay',function(){return this.emit('turnOffAutoplay');}.bind(this)));}.bind(this),this);}j.registerCarousel=function(k){'use strict';var l=new j(k);c('VideoAutoplayControllerX').registerVideoUnit(l);return l;};j.prototype.isVisible=function(){'use strict';var k=c('getViewportDimensions')().height,l=c('getElementPosition')(this.$CarouselVideoPlayerController5);if(l.height===0)return false;var m=l.y,n=l.y+l.height;return m>=0&&n<k;};j.prototype.getDistanceToViewport=function(){'use strict';var k=c('getViewportDimensions')().height,l=c('getElementPosition')(this.$CarouselVideoPlayerController5);if(l.height===0)return -Infinity;return l.y-k/2;};j.prototype.logDisplayed=function(){'use strict';if(this.$CarouselVideoPlayerController1[this.$CarouselVideoPlayerController4])this.$CarouselVideoPlayerController1[this.$CarouselVideoPlayerController4].logEvent(c('VideoPlayerLoggerEvent').DISPLAYED);};j.prototype.playWithoutUnmute=function(k){'use strict';if(this.$CarouselVideoPlayerController1[this.$CarouselVideoPlayerController4])this.$CarouselVideoPlayerController1[this.$CarouselVideoPlayerController4].play(k);};j.prototype.pause=function(k){'use strict';if(this.$CarouselVideoPlayerController1[this.$CarouselVideoPlayerController4])this.$CarouselVideoPlayerController1[this.$CarouselVideoPlayerController4].pause(k);};j.prototype.isAutoplayable=function(){'use strict';return this.$CarouselVideoPlayerController3;};j.prototype.getDOMPosition=function(){'use strict';return c('getElementPosition')(this.$CarouselVideoPlayerController5);};j.prototype.isLooping=function(){'use strict';return this.$CarouselVideoPlayerController1[this.$CarouselVideoPlayerController4]&&!!this.$CarouselVideoPlayerController1[this.$CarouselVideoPlayerController4].getOption('Looping','isLooping');};j.prototype.preload=function(){'use strict';if(this.$CarouselVideoPlayerController1[this.$CarouselVideoPlayerController4])this.$CarouselVideoPlayerController1[this.$CarouselVideoPlayerController4].preload();};j.prototype.isState=function(k){'use strict';if(this.$CarouselVideoPlayerController1[this.$CarouselVideoPlayerController4])return this.$CarouselVideoPlayerController1[this.$CarouselVideoPlayerController4].isState(k);return false;};j.prototype.getIsInChannel=function(){'use strict';return false;};j.prototype.abortLoading=function(){'use strict';return;};j.prototype.getCurentUnitVideoController=function(){'use strict';return this.$CarouselVideoPlayerController1[this.$CarouselVideoPlayerController2.getVisibleIndex()];};j.prototype.slide=function(){'use strict';this.$CarouselVideoPlayerController4=this.$CarouselVideoPlayerController2.getVisibleIndex();this.$CarouselVideoPlayerController1.forEach(function(k,l){if(k)if(l===this.$CarouselVideoPlayerController4){if(this.$CarouselVideoPlayerController3){k.setSmartBufferAdjustmentEnabled(true);k.play(c('VideoPlayerReason').AUTOPLAY);}}else{k.setSmartBufferAdjustmentEnabled(false);k.pause(c('VideoPlayerReason').PAGE_VISIBILITY);}}.bind(this));};j.prototype.removeUnit=function(k){'use strict';this.$CarouselVideoPlayerController1.splice(k,1);};f.exports=j;}),null);
__d('ExtendedMultiShareCarouselPagerArrowsVisible',['csx','cx','Animation','Arbiter','CarouselDynamicSlideshowController','CarouselVideoPlayerController','CSS','DOMQuery','Ease','Event','Locale','Run','TidyArbiterMixin','TrackingNodes','TrackingNodeTypes','mixin','tidyEvent'],(function a(b,c,d,e,f,g,h,i){var j,k,l=12,m=312,n=182,o=6,p=1,q=350;j=babelHelpers.inherits(r,c('mixin')(c('TidyArbiterMixin')));k=j&&j.prototype;function r(s){'use strict';k.constructor.call(this);this.$ExtendedMultiShareCarouselPagerArrowsVisible1=s.node;this.$ExtendedMultiShareCarouselPagerArrowsVisible2=s.grid;this.$ExtendedMultiShareCarouselPagerArrowsVisible3=s.prev_pager;this.$ExtendedMultiShareCarouselPagerArrowsVisible4=s.next_pager;this.$ExtendedMultiShareCarouselPagerArrowsVisible5=s.disable_pager_arrow_timeout;this.$ExtendedMultiShareCarouselPagerArrowsVisible6=s.item_width||m;this.$ExtendedMultiShareCarouselPagerArrowsVisible7=s.link_width||n;this.$ExtendedMultiShareCarouselPagerArrowsVisible8=s.num_visible_items||p;this.$ExtendedMultiShareCarouselPagerArrowsVisible9=s.edit_mode;this.$ExtendedMultiShareCarouselPagerArrowsVisible10=s.video_units;this.$ExtendedMultiShareCarouselPagerArrowsVisible11=s.should_autoplay;this.$ExtendedMultiShareCarouselPagerArrowsVisible12=null;this.$ExtendedMultiShareCarouselPagerArrowsVisible13=0;this.$ExtendedMultiShareCarouselPagerArrowsVisible14=l;this.$ExtendedMultiShareCarouselPagerArrowsVisible15=c('Locale').isRTL()?'right':'left';this.$ExtendedMultiShareCarouselPagerArrowsVisible2.style[this.$ExtendedMultiShareCarouselPagerArrowsVisible15]=this.$ExtendedMultiShareCarouselPagerArrowsVisible14+'px';this.$ExtendedMultiShareCarouselPagerArrowsVisible16();var t={video_units:this.$ExtendedMultiShareCarouselPagerArrowsVisible10,carousel:this,should_autoplay:this.$ExtendedMultiShareCarouselPagerArrowsVisible11,root:this.$ExtendedMultiShareCarouselPagerArrowsVisible1};this.$ExtendedMultiShareCarouselPagerArrowsVisible17=c('CarouselVideoPlayerController').registerCarousel(t);if(s.slideshow_ids){this.$ExtendedMultiShareCarouselPagerArrowsVisible18=s.slideshow_ids;var u={slideshow_ids:s.slideshow_ids,carousel:this};this.$ExtendedMultiShareCarouselPagerArrowsVisible19=new (c('CarouselDynamicSlideshowController'))(u);}s.extensions.forEach(function(v){v.init(this);},this);this.subscribe('autoscroll',this.$ExtendedMultiShareCarouselPagerArrowsVisible20.bind(this));c('tidyEvent')([c('Event').listen(this.$ExtendedMultiShareCarouselPagerArrowsVisible3,'click',this.$ExtendedMultiShareCarouselPagerArrowsVisible21.bind(this)),c('Event').listen(this.$ExtendedMultiShareCarouselPagerArrowsVisible4,'click',this.$ExtendedMultiShareCarouselPagerArrowsVisible20.bind(this))]);this.init_pagers();if(this.$ExtendedMultiShareCarouselPagerArrowsVisible9)this.$ExtendedMultiShareCarouselPagerArrowsVisible12=c('Arbiter').subscribe(['carousel-composer/carousel_card_change'],this.$ExtendedMultiShareCarouselPagerArrowsVisible22.bind(this));c('Run').onLeave(function(){this.$ExtendedMultiShareCarouselPagerArrowsVisible12&&this.$ExtendedMultiShareCarouselPagerArrowsVisible12.remove();}.bind(this));}r.prototype.getVisibleIndex=function(){'use strict';return this.$ExtendedMultiShareCarouselPagerArrowsVisible13;};r.prototype.$ExtendedMultiShareCarouselPagerArrowsVisible22=function(){'use strict';this.$ExtendedMultiShareCarouselPagerArrowsVisible13=0;this.$ExtendedMultiShareCarouselPagerArrowsVisible14=l;this.$ExtendedMultiShareCarouselPagerArrowsVisible2.style[this.$ExtendedMultiShareCarouselPagerArrowsVisible15]=this.$ExtendedMultiShareCarouselPagerArrowsVisible14+'px';this.refresh();};r.prototype.$ExtendedMultiShareCarouselPagerArrowsVisible23=function(){'use strict';if(this.$ExtendedMultiShareCarouselPagerArrowsVisible9){return this.$ExtendedMultiShareCarouselPagerArrowsVisible24()-this.getLastVisibleIndex();}else return this.$ExtendedMultiShareCarouselPagerArrowsVisible2.childNodes.length-this.getLastVisibleIndex();};r.prototype.$ExtendedMultiShareCarouselPagerArrowsVisible25=function(){'use strict';return this.$ExtendedMultiShareCarouselPagerArrowsVisible13;};r.prototype.$ExtendedMultiShareCarouselPagerArrowsVisible26=function(){'use strict';return this.$ExtendedMultiShareCarouselPagerArrowsVisible25()>0;};r.prototype.$ExtendedMultiShareCarouselPagerArrowsVisible27=function(){'use strict';return this.$ExtendedMultiShareCarouselPagerArrowsVisible23()>0;};r.prototype.$ExtendedMultiShareCarouselPagerArrowsVisible20=function(){'use strict';if(!this.$ExtendedMultiShareCarouselPagerArrowsVisible27())return;this.$ExtendedMultiShareCarouselPagerArrowsVisible28(1,this.$ExtendedMultiShareCarouselPagerArrowsVisible26());this.$ExtendedMultiShareCarouselPagerArrowsVisible16();};r.prototype.$ExtendedMultiShareCarouselPagerArrowsVisible21=function(){'use strict';if(!this.$ExtendedMultiShareCarouselPagerArrowsVisible26())return;this.$ExtendedMultiShareCarouselPagerArrowsVisible28(-1,this.$ExtendedMultiShareCarouselPagerArrowsVisible27());this.$ExtendedMultiShareCarouselPagerArrowsVisible16();};r.prototype.$ExtendedMultiShareCarouselPagerArrowsVisible29=function(){'use strict';return this.$ExtendedMultiShareCarouselPagerArrowsVisible27()&&this.$ExtendedMultiShareCarouselPagerArrowsVisible26();};r.prototype.$ExtendedMultiShareCarouselPagerArrowsVisible16=function(){'use strict';if(this.$ExtendedMultiShareCarouselPagerArrowsVisible27())c('TrackingNodes').addDataAttribute(this.$ExtendedMultiShareCarouselPagerArrowsVisible4,c('TrackingNodeTypes').MULTI_ATTACHMENT_PAGER_NEXT,this.getLastVisibleIndex()+1);};r.prototype.$ExtendedMultiShareCarouselPagerArrowsVisible30=function(s){'use strict';var t=s?"_3dm4":"_3dm5",u=s?"_3rvy":"_3rv-",v=s?this.$ExtendedMultiShareCarouselPagerArrowsVisible26():this.$ExtendedMultiShareCarouselPagerArrowsVisible27(),w=!this.$ExtendedMultiShareCarouselPagerArrowsVisible29()&&!v;if(w){c('CSS').addClass(this.$ExtendedMultiShareCarouselPagerArrowsVisible1,u);setTimeout(function(){c('CSS').addClass(this.$ExtendedMultiShareCarouselPagerArrowsVisible1,t);}.bind(this),this.$ExtendedMultiShareCarouselPagerArrowsVisible5);}else{c('CSS').removeClass(this.$ExtendedMultiShareCarouselPagerArrowsVisible1,u);c('CSS').removeClass(this.$ExtendedMultiShareCarouselPagerArrowsVisible1,t);}};r.prototype.getLastVisibleIndex=function(){'use strict';return this.$ExtendedMultiShareCarouselPagerArrowsVisible13+this.$ExtendedMultiShareCarouselPagerArrowsVisible8;};r.prototype.init_pagers=function(){'use strict';c('CSS').conditionClass(this.$ExtendedMultiShareCarouselPagerArrowsVisible1,"_3dm4",!this.$ExtendedMultiShareCarouselPagerArrowsVisible26());};r.prototype.refresh=function(){'use strict';this.$ExtendedMultiShareCarouselPagerArrowsVisible30(true);this.$ExtendedMultiShareCarouselPagerArrowsVisible30(false);c('CSS').conditionClass(this.$ExtendedMultiShareCarouselPagerArrowsVisible1,"_3o-b",this.$ExtendedMultiShareCarouselPagerArrowsVisible29());};r.prototype.getID=function(){'use strict';var s=c('DOMQuery').find(this.$ExtendedMultiShareCarouselPagerArrowsVisible1,"^._5pat");return s.id;};r.prototype.$ExtendedMultiShareCarouselPagerArrowsVisible24=function(){'use strict';var s=0,t=0;for(;t<this.$ExtendedMultiShareCarouselPagerArrowsVisible2.childNodes.length;t++)if(!c('CSS').hasClass(this.$ExtendedMultiShareCarouselPagerArrowsVisible2.childNodes[t],'hidden_elem'))s++;return s;};r.prototype.$ExtendedMultiShareCarouselPagerArrowsVisible28=function(s,t){'use strict';this.$ExtendedMultiShareCarouselPagerArrowsVisible13+=s;var u=(this.$ExtendedMultiShareCarouselPagerArrowsVisible7+o)/2;if(t&&this.$ExtendedMultiShareCarouselPagerArrowsVisible29())u=o;if(!t&&!this.$ExtendedMultiShareCarouselPagerArrowsVisible29())u=this.$ExtendedMultiShareCarouselPagerArrowsVisible7;u*=-s;var v=s*this.$ExtendedMultiShareCarouselPagerArrowsVisible6;this.$ExtendedMultiShareCarouselPagerArrowsVisible14-=v+u;var w=this.$ExtendedMultiShareCarouselPagerArrowsVisible1;c('CSS').addClass(w,"_3dm6");new (c('Animation'))(this.$ExtendedMultiShareCarouselPagerArrowsVisible2).to(this.$ExtendedMultiShareCarouselPagerArrowsVisible15,this.$ExtendedMultiShareCarouselPagerArrowsVisible14).duration(q).ease(c('Ease').sineOut).ondone(function(){c('CSS').removeClass(w,"_3dm6");this.refresh();}.bind(this)).go();this.$ExtendedMultiShareCarouselPagerArrowsVisible17.slide();if(this.$ExtendedMultiShareCarouselPagerArrowsVisible19)this.$ExtendedMultiShareCarouselPagerArrowsVisible19.slide();};f.exports=r;}),null);
__d('PagesContextualRecommendationsImpressionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:PagesContextualRecommendationsImpressionsLoggerConfig',this.$PagesContextualRecommendationsImpressionsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:PagesContextualRecommendationsImpressionsLoggerConfig',this.$PagesContextualRecommendationsImpressionsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$PagesContextualRecommendationsImpressionsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$PagesContextualRecommendationsImpressionsTypedLogger1=babelHelpers['extends']({},this.$PagesContextualRecommendationsImpressionsTypedLogger1,j);return this;};h.prototype.setActionType=function(j){this.$PagesContextualRecommendationsImpressionsTypedLogger1.action_type=j;return this;};h.prototype.setCardID=function(j){this.$PagesContextualRecommendationsImpressionsTypedLogger1.card_id=j;return this;};h.prototype.setContentSubType=function(j){this.$PagesContextualRecommendationsImpressionsTypedLogger1.content_sub_type=j;return this;};h.prototype.setContentType=function(j){this.$PagesContextualRecommendationsImpressionsTypedLogger1.content_type=j;return this;};h.prototype.setNumCards=function(j){this.$PagesContextualRecommendationsImpressionsTypedLogger1.num_cards=j;return this;};h.prototype.setPageID=function(j){this.$PagesContextualRecommendationsImpressionsTypedLogger1.page_id=j;return this;};h.prototype.setPersonalizationType=function(j){this.$PagesContextualRecommendationsImpressionsTypedLogger1.personalization_type=j;return this;};h.prototype.setPlatform=function(j){this.$PagesContextualRecommendationsImpressionsTypedLogger1.platform=j;return this;};h.prototype.setPosition=function(j){this.$PagesContextualRecommendationsImpressionsTypedLogger1.position=j;return this;};h.prototype.setReferrer=function(j){this.$PagesContextualRecommendationsImpressionsTypedLogger1.referrer=j;return this;};h.prototype.setRequestID=function(j){this.$PagesContextualRecommendationsImpressionsTypedLogger1.request_id=j;return this;};h.prototype.setSurface=function(j){this.$PagesContextualRecommendationsImpressionsTypedLogger1.surface=j;return this;};h.prototype.setTriggerType=function(j){this.$PagesContextualRecommendationsImpressionsTypedLogger1.trigger_type=j;return this;};h.prototype.setVisitorIntentScore=function(j){this.$PagesContextualRecommendationsImpressionsTypedLogger1.visitor_intent_score=j;return this;};var i={action_type:true,card_id:true,content_sub_type:true,content_type:true,num_cards:true,page_id:true,personalization_type:true,platform:true,position:true,referrer:true,request_id:true,surface:true,trigger_type:true,visitor_intent_score:true};f.exports=h;}),null);
__d('PagesContextualRecommendationsInteractionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:PagesContextualRecommendationsInteractionsLoggerConfig',this.$PagesContextualRecommendationsInteractionsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:PagesContextualRecommendationsInteractionsLoggerConfig',this.$PagesContextualRecommendationsInteractionsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$PagesContextualRecommendationsInteractionsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$PagesContextualRecommendationsInteractionsTypedLogger1=babelHelpers['extends']({},this.$PagesContextualRecommendationsInteractionsTypedLogger1,j);return this;};h.prototype.setActionToggleType=function(j){this.$PagesContextualRecommendationsInteractionsTypedLogger1.action_toggle_type=j;return this;};h.prototype.setActionType=function(j){this.$PagesContextualRecommendationsInteractionsTypedLogger1.action_type=j;return this;};h.prototype.setCardID=function(j){this.$PagesContextualRecommendationsInteractionsTypedLogger1.card_id=j;return this;};h.prototype.setClickTarget=function(j){this.$PagesContextualRecommendationsInteractionsTypedLogger1.click_target=j;return this;};h.prototype.setContentSubType=function(j){this.$PagesContextualRecommendationsInteractionsTypedLogger1.content_sub_type=j;return this;};h.prototype.setContentType=function(j){this.$PagesContextualRecommendationsInteractionsTypedLogger1.content_type=j;return this;};h.prototype.setPageID=function(j){this.$PagesContextualRecommendationsInteractionsTypedLogger1.page_id=j;return this;};h.prototype.setPersonalizationType=function(j){this.$PagesContextualRecommendationsInteractionsTypedLogger1.personalization_type=j;return this;};h.prototype.setPlatform=function(j){this.$PagesContextualRecommendationsInteractionsTypedLogger1.platform=j;return this;};h.prototype.setReferrer=function(j){this.$PagesContextualRecommendationsInteractionsTypedLogger1.referrer=j;return this;};h.prototype.setRequestID=function(j){this.$PagesContextualRecommendationsInteractionsTypedLogger1.request_id=j;return this;};h.prototype.setSurface=function(j){this.$PagesContextualRecommendationsInteractionsTypedLogger1.surface=j;return this;};h.prototype.setTriggerType=function(j){this.$PagesContextualRecommendationsInteractionsTypedLogger1.trigger_type=j;return this;};h.prototype.setVisitorIntentScore=function(j){this.$PagesContextualRecommendationsInteractionsTypedLogger1.visitor_intent_score=j;return this;};var i={action_toggle_type:true,action_type:true,card_id:true,click_target:true,content_sub_type:true,content_type:true,page_id:true,personalization_type:true,platform:true,referrer:true,request_id:true,surface:true,trigger_type:true,visitor_intent_score:true};f.exports=h;}),null);
__d("XPageGeographicSubscriptionLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/geographic_subscription\/logging\/",{});}),null);
__d('PagesContextualRecommendationsImpressionLogger',['AsyncRequest','Event','PagesContextualRecommendationsImpressionsTypedLogger','XPageGeographicSubscriptionLoggingController','XPubcontentImpressionLoggingController'],(function a(b,c,d,e,f,g){var h,i={init:function j(k){h=[];i.logCurrentIndex(k);var l=function m(event){i.logCurrentIndex(k);};c('Event').listen(k.prevPager,'click',l);c('Event').listen(k.nextPager,'click',l);},logCurrentIndex:function j(k){var l=k.scrollArrows.getVisibleIndex(),m=k.logData[l];if(h.indexOf(l)===-1){h.push(l);new (c('PagesContextualRecommendationsImpressionsTypedLogger'))().setPageID(k.pageID).setRequestID(k.requestID).setCardID(m.card_id).setActionType(m.card_action_type).setContentType(m.card_content_type).setContentSubType(m.card_content_sub_type).setVisitorIntentScore(m.card_vi_score).setPlatform(k.platform).setSurface(k.surface).setReferrer(k.referrer).setNumCards(k.numCards).setPosition(m.card_position).setPersonalizationType(m.card_personalization_type).setTriggerType(k.triggerType).log();i.logNetEgoEvent(m,k.platform,k.surface);if(m.is_geo_subscription){var n=c('XPageGeographicSubscriptionLoggingController').getURIBuilder(),o={event:'impression',surface:k.surface+'_contextual_recommendations',platform:k.platform};new (c('AsyncRequest'))().setMethod('POST').setURI(n.getURI()).setData(o).send();}}},logNetEgoEvent:function j(k,l,m){var n=k.card_ego_log_data;if(!n)return;var o=c('XPubcontentImpressionLoggingController').getURIBuilder(),p={event:'impression',surface:m,platform:l,q:n};new (c('AsyncRequest'))().setMethod('POST').setURI(o.getURI()).setData(p).send();}};f.exports=i;}),null);
__d('PagesContextualRecommendationsLoggingUtils',[],(function a(b,c,d,e,f,g){var h={getActionToggleType:function i(j,k){var l=j%2==0;switch(k.actionType){case 'fanning':return l?'unlike':'like';case 'save_place':return l?'unsave':'save';case 'geographic_subscription':return l?'unsubscribe':'subscribe';default:return k.actionToggleType;}}};f.exports=h;}),null);
__d("XPubcontentActionLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pubcontent\/suggestions\/action_logging\/",{});}),null);
__d('PagesContextualRecommendationsInteractionLogger',['AsyncRequest','ChatOpenTabEventLogger','FantaTabActions','MercuryIDs','Event','PagesContextualRecommendationsLoggingUtils','PagesContextualRecommendationsInteractionsTypedLogger','PagesEventObserver','XPubcontentActionLoggingController'],(function a(b,c,d,e,f,g){var h={init:function i(j,k,l,m,n){var o=0;c('Event').listen(j,'click',function(event){o++;if(l.actionType=='cta_message'||l.actionType=='message'){var p=c('MercuryIDs').getThreadIDFromUserID(k.toString());c('FantaTabActions').openTab(p);c('ChatOpenTabEventLogger').logPage('contextual_recommendations',k.toString());}if(m&&n){n.ref='contextual_recommendations';c('PagesEventObserver').notify(m,k.toString(),n);}var q=c('PagesContextualRecommendationsLoggingUtils').getActionToggleType(o,l),r=l.egoLogData;if(r)h.logNetEgoEvent(r,l.actionType,q,l.clickTarget);new (c('PagesContextualRecommendationsInteractionsTypedLogger'))().setPageID(k).setCardID(l.cardID).setActionType(l.actionType).setClickTarget(l.clickTarget).setActionToggleType(q).setPlatform(l.platform).setSurface(l.surface).setReferrer(l.referrer).setTriggerType(l.trigger).setRequestID(l.requestID).log();});},logNetEgoEvent:function i(j,k,l,m){var n=c('XPubcontentActionLoggingController').getURIBuilder(),o={ego_data:j,action_type:k,action_toggle_type:l,click_target:m};new (c('AsyncRequest'))().setMethod('POST').setURI(n.getURI()).setData(o).send();}};f.exports=h;}),null);
__d("XTogglePagesActionsUnitMenuItemCurationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/timeline\/app\/collection\/item\/curation\/togglemenu\/pages\/",{collection_token:{type:"String"},object_id:{type:"String"},action_type:{type:"Enum",enumType:1},mechanism:{type:"Enum",enumType:1},surface:{type:"Enum",enumType:1},save_context:{type:"String"},privacy:{type:"IntToStringMap"},backdate_time:{type:"Int"},suppress_notifications:{type:"Bool",defaultValue:false},list_id:{type:"Int"},confirm:{type:"Bool",defaultValue:false},confirmed:{type:"Bool",defaultValue:false}});}),null);
__d('PagesContextualRecommendationsSaveButton',['fbt','AsyncRequest','Button','XTogglePagesActionsUnitMenuItemCurationController','TimelineAppCollectionAddObjectActions'],(function a(b,c,d,e,f,g,h){var i={registerButton:function j(k,l,m,n,o){k.subscribe('change',function(p,q){var r=q.selected?c('TimelineAppCollectionAddObjectActions').ADD:c('TimelineAppCollectionAddObjectActions').REMOVE,s=c('XTogglePagesActionsUnitMenuItemCurationController').getURIBuilder().setString('collection_token',l).setString('object_id',m).setEnum('action_type',r).setEnum('surface',n).setEnum('mechanism',o).getURI();new (c('AsyncRequest'))().setURI(s).setMethod('POST').setHandler(function(t){var u=k.isSelected();c('Button').setLabel(k.getRoot(),u?h._("Saved"):h._("Save"));}).send();});}};f.exports=i;}),null);
__d("XPagesContextualRecommendationsUnitXoutController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/contextual_recommendations\/unit_xout\/",{page_id:{type:"Int",required:true}});}),null);
__d('PagesContextualRecommendationsUnitXOutButton',['csx','AsyncRequest','DOM','Event','Parent','XPagesContextualRecommendationsUnitXoutController'],(function a(b,c,d,e,f,g,h){'use strict';var i={init:function j(k,l,m){c('Event').listen(k,'click',function(event){i.close(k,l);});},close:function j(k,l){var m=c('Parent').bySelector(k,"._31qy");c('DOM').remove(m);new (c('AsyncRequest'))().setURI(c('XPagesContextualRecommendationsUnitXoutController').getURIBuilder().setInt('page_id',l).getURI()).send();}};f.exports=i;}),null);
__d('PagesContextualRecommendationsXOutButton',['cx','csx','CSS','Event','DOM','Parent','Arbiter'],(function a(b,c,d,e,f,g,h,i){var j=500,k={init:function l(m,n){c('Event').listen(m,'click',function(event){k.close(m,n);});},close:function l(m,n){var o;if(n){o="._1489";}else o="._31qw";var p=c('Parent').bySelector(m,o),q=p.parentNode;if(p){c('CSS').addClass(p,"_31r1");setTimeout(function(){var r=c('Parent').bySelector(m,".uiList"),s=c('Parent').bySelector(m,"._31qy");c('DOM').remove(q);c('Arbiter').inform('contextual-recommendations/carousel_card_xout');if(r.children.length===0)c('DOM').remove(s);},j);}}};f.exports=k;}),null);
__d('ScrollUnitPagerArrows',['cx','csx','Animation','Arbiter','CSS','DOMQuery','Ease','Event','Locale','Run','TidyArbiterMixin','TrackingNodes','TrackingNodeTypes','CarouselDynamicSlideshowController','mixin','tidyEvent'],(function a(b,c,d,e,f,g,h,i){var j,k,l=8,m=1,n=350,o=500,p=285,q=287;j=babelHelpers.inherits(r,c('mixin')(c('TidyArbiterMixin')));k=j&&j.prototype;function r(s){'use strict';k.constructor.call(this);this.$ScrollUnitPagerArrows1=s.node;this.$ScrollUnitPagerArrows2=s.grid;this.$ScrollUnitPagerArrows3=s.prev_pager;this.$ScrollUnitPagerArrows4=s.next_pager;this.$ScrollUnitPagerArrows5=s.disable_pager_arrow_timeout;this.$ScrollUnitPagerArrows6=s.item_width||(s.surface==='feed'?q:p);this.$ScrollUnitPagerArrows7=s.num_visible_items||m;this.$ScrollUnitPagerArrows8=null;this.$ScrollUnitPagerArrows9=0;this.$ScrollUnitPagerArrows10=l;this.$ScrollUnitPagerArrows11=c('Locale').isRTL()?'right':'left';this.$ScrollUnitPagerArrows2.style[this.$ScrollUnitPagerArrows11]=this.$ScrollUnitPagerArrows10+'px';this.$ScrollUnitPagerArrows12();if(s.slideshow_ids){this.$ScrollUnitPagerArrows13=s.slideshow_ids;var t={slideshow_ids:s.slideshow_ids,carousel:this};this.$ScrollUnitPagerArrows14=new (c('CarouselDynamicSlideshowController'))(t);}s.extensions.forEach(function(u){u.init(this);},this);this.subscribe('autoscroll',this.$ScrollUnitPagerArrows15.bind(this));c('tidyEvent')([c('Event').listen(this.$ScrollUnitPagerArrows3,'click',this.$ScrollUnitPagerArrows16.bind(this)),c('Event').listen(this.$ScrollUnitPagerArrows4,'click',this.$ScrollUnitPagerArrows15.bind(this))]);this.init_pagers();this.$ScrollUnitPagerArrows17=c('Arbiter').subscribe(['contextual-recommendations/carousel_card_xout'],this.$ScrollUnitPagerArrows18.bind(this));c('Run').onLeave(function(){this.$ScrollUnitPagerArrows17;}.bind(this));}r.prototype.getVisibleIndex=function(){'use strict';return this.$ScrollUnitPagerArrows9;};r.prototype.$ScrollUnitPagerArrows18=function(){'use strict';var s=this.$ScrollUnitPagerArrows9===this.$ScrollUnitPagerArrows2.childNodes.length;if(s)this.$ScrollUnitPagerArrows16();};r.prototype.$ScrollUnitPagerArrows19=function(){'use strict';if(this.$ScrollUnitPagerArrows20){return this.$ScrollUnitPagerArrows21()-this.getLastVisibleIndex();}else return this.$ScrollUnitPagerArrows2.childNodes.length-this.getLastVisibleIndex();};r.prototype.$ScrollUnitPagerArrows22=function(){'use strict';return this.$ScrollUnitPagerArrows9;};r.prototype.$ScrollUnitPagerArrows23=function(){'use strict';return this.$ScrollUnitPagerArrows22()>0;};r.prototype.$ScrollUnitPagerArrows24=function(){'use strict';return this.$ScrollUnitPagerArrows19()>0;};r.prototype.$ScrollUnitPagerArrows15=function(){'use strict';if(!this.$ScrollUnitPagerArrows24())return;this.$ScrollUnitPagerArrows25(1,this.$ScrollUnitPagerArrows23());this.$ScrollUnitPagerArrows12();};r.prototype.$ScrollUnitPagerArrows16=function(){'use strict';if(!this.$ScrollUnitPagerArrows23())return;this.$ScrollUnitPagerArrows25(-1,this.$ScrollUnitPagerArrows24());this.$ScrollUnitPagerArrows12();};r.prototype.$ScrollUnitPagerArrows26=function(){'use strict';return this.$ScrollUnitPagerArrows24()&&this.$ScrollUnitPagerArrows23();};r.prototype.$ScrollUnitPagerArrows12=function(){'use strict';if(this.$ScrollUnitPagerArrows24())c('TrackingNodes').addDataAttribute(this.$ScrollUnitPagerArrows4,c('TrackingNodeTypes').MULTI_ATTACHMENT_PAGER_NEXT,this.getLastVisibleIndex()+1);};r.prototype.$ScrollUnitPagerArrows27=function(s){'use strict';var t=s?"_3dm4":"_3dm5",u=s?"_3rvy":"_3rv-",v=s?this.$ScrollUnitPagerArrows23():this.$ScrollUnitPagerArrows24(),w=!this.$ScrollUnitPagerArrows26()&&!v;if(w){c('CSS').addClass(this.$ScrollUnitPagerArrows1,u);setTimeout(function(){c('CSS').addClass(this.$ScrollUnitPagerArrows1,t);}.bind(this),this.$ScrollUnitPagerArrows5);}else{c('CSS').removeClass(this.$ScrollUnitPagerArrows1,u);c('CSS').removeClass(this.$ScrollUnitPagerArrows1,t);}};r.prototype.getLastVisibleIndex=function(){'use strict';return this.$ScrollUnitPagerArrows9+this.$ScrollUnitPagerArrows7;};r.prototype.init_pagers=function(){'use strict';c('CSS').conditionClass(this.$ScrollUnitPagerArrows1,"_3dm4",!this.$ScrollUnitPagerArrows23());};r.prototype.refresh=function(){'use strict';this.$ScrollUnitPagerArrows27(true);this.$ScrollUnitPagerArrows27(false);c('CSS').conditionClass(this.$ScrollUnitPagerArrows1,"_3o-b",this.$ScrollUnitPagerArrows26());};r.prototype.getID=function(){'use strict';var s=c('DOMQuery').find(this.$ScrollUnitPagerArrows1,"^._5pat");return s.id;};r.prototype.$ScrollUnitPagerArrows21=function(){'use strict';var s=0,t=0;for(;t<this.$ScrollUnitPagerArrows2.childNodes.length;t++)if(!c('CSS').hasClass(this.$ScrollUnitPagerArrows2.childNodes[t],'hidden_elem'))s++;return s;};r.prototype.$ScrollUnitPagerArrows25=function(s,t){'use strict';this.$ScrollUnitPagerArrows9+=s;var u=(o-this.$ScrollUnitPagerArrows6-2*l)/2,v=this.$ScrollUnitPagerArrows2.childNodes.length;if(this.$ScrollUnitPagerArrows9===1&&s>0&&v>2||this.$ScrollUnitPagerArrows9+2===v&&s<0&&v>2){this.$ScrollUnitPagerArrows10-=(this.$ScrollUnitPagerArrows6-u+l)*s;}else if(this.$ScrollUnitPagerArrows9+1===v&&s>0||this.$ScrollUnitPagerArrows9===0&&s<0){this.$ScrollUnitPagerArrows10-=(this.$ScrollUnitPagerArrows6+2*l+(v>2?u:0)-(o-this.$ScrollUnitPagerArrows6-l))*s;}else this.$ScrollUnitPagerArrows10-=(l+this.$ScrollUnitPagerArrows6)*s;var w=this.$ScrollUnitPagerArrows1;c('CSS').addClass(w,"_3dm6");new (c('Animation'))(this.$ScrollUnitPagerArrows2).to(this.$ScrollUnitPagerArrows11,this.$ScrollUnitPagerArrows10).duration(n).ease(c('Ease').sineOut).ondone(function(){c('CSS').removeClass(w,"_3dm6");this.refresh();}.bind(this)).go();if(this.$ScrollUnitPagerArrows14)this.$ScrollUnitPagerArrows14.slide();};f.exports=r;}),null);